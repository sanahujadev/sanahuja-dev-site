---
import Blog from '../../../components/Blog.astro';
import { getTranslations, type ServicesIndex } from '../../../i18n/utils';
import Layout from '../../../layouts/Layout.astro';
import SpecialOffer from '../../../components/SpecialOffer.astro';

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'es' } },
  ];
}

const { lang } = Astro.params;
const t = getTranslations(lang as 'en' | 'es');
const servicesIndex = t.servicesIndex as ServicesIndex;
const offer = servicesIndex.offer;
---

<Layout t={t} lang={lang}>
  <main class="space-y-8 mb-40 pt-20">
    <SpecialOffer offer={offer} />
    <Blog title={servicesIndex.title} subtitle={servicesIndex.subtitle} posts={servicesIndex.services} />
  </main>
</Layout>
